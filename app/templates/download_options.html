<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download Video and Audio from YouTube</title>
    <link href="{{ url_for('static', path='/styles/download_options.css') }}" rel="stylesheet" />
</head>

<body>
    <div class="container">
        <section>
            <img class="container_img" src="{{thumbnail}}" alt="Video preview">
            <span>{{fullname}}</span>
        </section>
        <section>
            <div class="tabs">
                <div class="tab active" onclick="showTab('videoTab')">Video</div>
                <div class="tab" onclick="showTab('audioTab')">Audio</div>
            </div>

            <!-- Video options -->
            <div id="videoTab" class="tabContent">
                <table class="options_table">
                    {% for option in video_options %}
                    <tr>
                        <th>{{option.name}}</th>
                        <th>{{option.size}}</th>
                        <th>
                            <a href="{{option.url}}">
                                Descargar
                            </a>
                        </th>
                    </tr>
                    {% endfor %}
                </table>
            </div>

            <!-- Audio options -->
            <div id="audioTab" class="tabContent hidden">
                <table class="options_table">
                    <tr>
                        <th>{{audio_option.name}}</th>
                        <th>{{audio_option.size}}</th>
                        <th>
                            <a href="{{audio_option.url}}">
                                Descargar
                            </a>
                        </th>
                    </tr>
                </table>
            </div>
        </section>
    </div>

    <!-- Placeholder for Python function -->
    <script>
        function analyze(url) {
            window.location.href = `/download?url=${url}`
        }

        function showTab(tabName) {
            const videoTab = document.getElementById('videoTab');
            const audioTab = document.getElementById('audioTab');
            const tabs = document.querySelectorAll('.tab');

            if (tabName === 'videoTab') {
                videoTab.classList.remove('hidden');
                audioTab.classList.add('hidden');
                tabs[0].classList.add('active');
                tabs[1].classList.remove('active');
            } else {
                audioTab.classList.remove('hidden');
                videoTab.classList.add('hidden');
                tabs[1].classList.add('active');
                tabs[0].classList.remove('active');
            }
        }  
    </script>
</body>

</html>